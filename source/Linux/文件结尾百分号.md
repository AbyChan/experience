--title: 文件结尾百分号问题
--date: Wed Oct 18 11:53:27 CST 2017
--tag: Linux, Emacs
###
在用 Emacs Snippet 的时候，发现插入 snippet 的时候会自动插入一行新行，查了资料发现：

> 这是 Windows 和 Linux 对文本文件的定义区别。Windows 认为 \n 是文本行之间的「分隔符」， 所以只有两行之间才需要 \n，一行文本不需要 \n。Windows 中具有 10 行的文本应该有 9 个 \n 「分隔符」。Linux 认为 \n 是文本行的「结束符」，一个有效的文本行必须包含 \n 符号，否则根本不是个有效的文本文件。Linux 中具有 10 行的文本应该有 10 个 \n 「结束符」。vim 遵循的是 Linux 的定义，结尾没有 \n 的文本文件不是一个合法的文本文件，因此必须加上。当然，如果你只是需要一个选项禁止这个行为，可以用 Ruchee 的方法，不过这样产生的文本对某些工具不兼容。

在 vim 中，如果不需要\n，应该将该文件视为binary文件，保存文档前执行 :set bin noeol 即可
